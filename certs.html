<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>æˆ‘çš„è­‰ç…§ Certifications</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f0f2f5;
      padding: 40px;
      margin: 0;
    }

    h1 {
      text-align: center;
      color: #333;
    }

    .controls {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      margin-bottom: 20px;
    }

    .controls button, .controls input {
      padding: 8px 16px;
      border-radius: 5px;
      border: 1px solid #ccc;
      font-size: 0.95em;
    }

    .controls button {
      background-color: #4a90e2;
      color: white;
      cursor: pointer;
      border: none;
    }

    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-top: 30px;
    }

    .card {
      background-color: white;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      padding: 20px;
      transition: transform 0.2s ease;
    }

    .card:hover {
      transform: scale(1.02);
    }

    .cert-name {
      font-size: 1.2em;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .issuer, .year {
      color: #666;
      font-size: 0.95em;
      margin-bottom: 5px;
    }

    .tags {
      margin-top: 10px;
    }

    .tag {
      display: inline-block;
      padding: 4px 10px;
      border-radius: 20px;
      font-size: 0.8em;
      margin-right: 6px;
      cursor: pointer;
      color: white;
    }

    .tag.red { background-color: #e74c3c; }
    .tag.blue { background-color: #3498db; }
    .tag.purple { background-color: #9b59b6; }

    .tag.active {
      box-shadow: 0 0 0 2px #555 inset;
    }

    #card-container {
      transition: all 0.2s ease;
    }
  
    

</style>
</head>
<body>

  <h1 id="title">æˆ‘è€ƒéçš„è­‰ç…§</h1>

  <div class="controls">
    <input type="text" id="searchInput" placeholder="æœå°‹è­‰ç…§ / Search..." oninput="renderCards()" />
    <button onclick="switchLanguage()">åˆ‡æ›èªè¨€ / Switch Language</button>
    <button onclick="downloadJSON()">ä¸‹è¼‰ JSON</button>
    <button onclick="downloadPDF()">ä¸‹è¼‰ PDF</button>
  </div>

  <div class="cards" id="card-container"></div>

  <script>
    let isChinese = true;
    let currentFilter = null;

    const tagColorMap = {
      "ç´…éšŠ": "red", "Red Team": "red",
      "è—éšŠ": "blue", "Blue Team": "blue",
      "é›²ç«¯": "purple", "Cloud": "purple"
    };

    const data = [
  {
    "name": {
      "zh": "é§­å®¢æŠ€è¡“å°ˆå®¶èªè­‰èª²ç¨‹ï¼ˆCEHï¼‰",
      "en": "Certified Ethical Hacker (CEH)"
    },
    "issuer": {
      "zh": "EC-Council",
      "en": "EC-Council"
    },
    "year": "2024",
    "tags": [
      {
        "zh": "ç´…éšŠ",
        "en": "Red Team"
      }
    ],
    "links": {
      "course": "https://example.com/course",
      "review": "https://example.com/review",
      "certificate": "https://example.com/certificate"
    }
  },
  {
    "name": {
      "zh": "è³‡å®‰é‘‘è­˜èª¿æŸ¥å°ˆå®¶èªè­‰èª²ç¨‹ï¼ˆCHFIï¼‰",
      "en": "Computer Hacking Forensic Investigator (CHFI)"
    },
    "issuer": {
      "zh": "EC-Council",
      "en": "EC-Council"
    },
    "year": "2022",
    "tags": [
      {
        "zh": "è—éšŠ",
        "en": "Blue Team"
      }
    ],
    "links": {
      "course": "https://example.com/course",
      "review": "https://example.com/review",
      "certificate": "https://example.com/certificate"
    }
  },
  {
    "name": {
      "zh": "ç¶²è·¯å®‰å…¨å°åŒ…åˆ†æé€²éšå¯¦ä½œï¼ˆANSPAï¼‰",
      "en": "Advanced Network Security Packet Analysis (ANSPA)"
    },
    "issuer": {
      "zh": "ä¸­è¯æ°‘åœ‹ç¶²è·¯å°åŒ…åˆ†æå”æœƒ",
      "en": "Taiwan Network Packet Analysis Association"
    },
    "year": "2022",
    "tags": [
      {
        "zh": "è—éšŠ",
        "en": "Blue Team"
      }
    ],
    "links": {
      "course": "https://example.com/course",
      "review": "https://example.com/review",
      "certificate": "https://example.com/certificate"
    }
  },
  {
    "name": {
      "zh": "ç¶²è·¯å®‰å…¨å°åŒ…åˆ†æèªè­‰èª²ç¨‹ï¼ˆNSPAï¼‰",
      "en": "Network Security Packet Analysis (NSPA)"
    },
    "issuer": {
      "zh": "ä¸­è¯æ°‘åœ‹ç¶²è·¯å°åŒ…åˆ†æå”æœƒ",
      "en": "Taiwan Network Packet Analysis Association"
    },
    "year": "2022",
    "tags": [
      {
        "zh": "è—éšŠ",
        "en": "Blue Team"
      }
    ],
    "links": {
      "course": "https://example.com/course",
      "review": "https://example.com/review",
      "certificate": "https://example.com/certificate"
    }
  }
];

    function renderCards() {
      const container = document.getElementById("card-container");
      const keyword = document.getElementById("searchInput").value.trim().toLowerCase();
      container.innerHTML = "";

      data.forEach(cert => {
        const displayName = isChinese ? cert.name.zh : cert.name.en;
        const displayIssuer = isChinese ? cert.issuer.zh : cert.issuer.en;
        const displayTags = cert.tags.map(tag => isChinese ? tag.zh : tag.en);

        const showByTag = !currentFilter || displayTags.includes(currentFilter);
        const showByKeyword = !keyword || displayName.toLowerCase().includes(keyword) || displayIssuer.toLowerCase().includes(keyword);

        if (!(showByTag && showByKeyword)) return;

        const card = document.createElement("div");
        card.className = "card";

        const tagSpans = cert.tags.map(tag => {
          const label = isChinese ? tag.zh : tag.en;
          const colorClass = tagColorMap[label] || "";
          const isActive = currentFilter === label ? "active" : "";
          return `<span class="tag ${colorClass} ${isActive}" onclick="filterByTag('${label}')">${label}</span>`;
        }).join("");

        card.innerHTML = `
          <div class="cert-name">${displayName}</div>
          <div class="issuer">${displayIssuer}</div>
          <div class="year">${isChinese ? "å–å¾—å¹´ä»½ï¼š" : "Year: "} ${cert.year}</div>
          <div class="links" style="margin-top: 8px; font-size: 0.9em;">
            ğŸ§‘â€ğŸ« <a href="${cert.links?.course || '#'}" target="_blank">${isChinese ? "èª²ç¨‹é€£çµ" : "Course Link"}</a>ã€€
            ğŸ“ <a href="${cert.links?.review || '#'}" target="_blank">${isChinese ? "å¿ƒå¾—é€£çµ" : "Review Link"}</a>ã€€
            ğŸ“œ <a href="${cert.links?.certificate || '#'}" target="_blank">${isChinese ? "è­‰ç…§é€£çµ" : "Certificate Link"}</a>
          </div>
          <div class="tags">${tagSpans}</div>
`;

        container.appendChild(card);
      });

      document.getElementById("title").textContent = isChinese ? "æˆ‘è€ƒéçš„è­‰ç…§" : "My Certifications";
    }

    function switchLanguage(force = null) {
      if (force !== null) {
        isChinese = force;
      } else {
        isChinese = !isChinese;
      }
      renderCards();
    }

    function filterByTag(tag) {
      currentFilter = (currentFilter === tag) ? null : tag;
      renderCards();
    }

    function downloadJSON() {
      const blob = new Blob([JSON.stringify(data, null, 2)], { type: "application/json" });
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "certifications.json";
      a.click();
      URL.revokeObjectURL(url);
    }

    function downloadPDF() {
      const element = document.getElementById("card-container");
      const opt = {
        margin: 0.5,
        filename: 'certifications.pdf',
        image: { type: 'jpeg', quality: 0.98 },
        html2canvas: { scale: 2 },
        jsPDF: { unit: 'in', format: 'a4', orientation: 'portrait' }
      };
      html2pdf().from(element).set(opt).save();
    }

    const userLang = navigator.language || navigator.userLanguage;
    const defaultIsChinese = userLang.startsWith('zh');
    switchLanguage(defaultIsChinese);
  </script>

</body>
</html>